<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../css/jquery/jquery.flexigrid.css?v=1.0.1">
    <link rel="stylesheet" href="../../css/jquery/jquery.alerts.css?v=1.0.1">
    <base href="./">
	<title>公司列表</title>
</head>
<body>
	<form action="../../data/organization" method="get">
		<table class="searchTable">
			<tbody>
				<tr>
					<td>名称</td>
  					<td style="padding-left:10px">
  						<input type="text" name="" value="">
  					</td>
  					<td>类型</td>
  					<td style="padding-left:10px">
  						<select name="">
  							<option value=""></option>
  							<option value="学校">学校</option>
  							<option value="机关">机关</option>
  							<option value="企业">企业</option>
  						</select>
  					</td>
  					<td>防伪类型</td>
  					<td style="padding-left:10px">
  						<select name="">
  							<option value=""></option>
  							<option value="产品防伪">产品防伪</option>
  							<option value="包裹防伪">包裹防伪</option>
  						</select>
  					</td>				
  				</tr>
			</tbody>
		</table>
	</form>
	<table class="listTable"></table>

	<script src="../../js/jquery/jquery-1.8.3.min.js?v=1.0.1"></script>
	<script src="../../js/jquery/jquery.flexigrid.js?v=1.0.1"></script>
	<script src="../../js/jquery/jquery.alerts.js?v=1.0.1"></script>
	<script>
	$(function(){
		$("table.listTable").flexigrid(GRID);	
	});	
	var GRID = {
		form: $("form"),
        //sortname: "",
        //sortorder: "",
        primaryKey: "id",
        colModel: [
        	{display: "名称", name: "name", width: 120, sortable: true},
			{display: "中文简称", name: "abbr", width: 70, sortable: true},
			{display: "类型", name: "typeName", width: 30, sortable: true},
			{display: "防伪类型", name: "verifyType", width: 50, sortable: true, 
				dataFormat: function(value, td, row){
					if(0 === value){
						return "产品防伪";
					}
					return "包裹防伪";
				}
			},
			{display: "注册地址", name: "regAddress", width: 160, sortable: true},
			{display: "注册时间", name: "regTime", width: 90, sortable: true},
			{display: "经营范围", name: "busniessScop", width: 100, sortable: true},
			{display: "售出时间(天)", name: "saleDay", width: 50, sortable: true, 
				dataFormat: function(value, td, row){
					switch(value){
						case 0:
							return "0";
						default:
							return value;
					}
				}
			},
			{display: "联系电话", name: "tel", width: 90, sortable: true},
			{display: "售后电话", name: "serviceTel", width: 90, sortable: true},
			{display: "状态", name: "status", width: 40, sortable: true, 
				dataFormat: function(value, td, row){
					switch(value){
						case 0:
							return "异常";
						case 1:
							return "正常";
						case 2:
							return "演示";
						case 9:
							return "删除";
						default:
							return value;
					}
				}
			},
			{display: "操作", name: "id", width: 75, sortable: true,
				dataFormat: function(value, td, row){
					var oper = '';
            		oper += '<span class="editBtn rowBtn" title="编辑" onclick="rowEdit(this)"></span>';
            		oper += '<span class="detailBtn rowBtn" title="详情" onclick="rowDetail(this)"></span>';
            		oper += '<span class="deletesBtn rowBtn" title="删除" onclick="rowDelete(this)"></span>';
					return oper;
				}
			}
        ],
        add: {
        	url: "../html/organization/organizationItem.html",
        },
        edit: {
        	url: "../html/organization/organizationItem.html?type=edit",
        	primaryKey: "id"
        },
        detail: {
        	url: "../html/organization/organizationItem.html?type=detail",
        	primaryKey: "id",
        },
        deletes: {
        	url : "",
			primaryKey: "id"
        }
	};

	function rowEdit(obj){
		edit(GRID.edit, obj, true);
	}

	function rowDetail(obj){
		detail(GRID.detail, obj, true);
	}

	function rowDelete(obj){
		deletes(GRID.deletes, obj, true);
	}
	</script>
</body>
</html>

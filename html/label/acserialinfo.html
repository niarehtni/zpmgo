<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../css/jquery/jquery.flexigrid.css?v=1.0.1">
    <link rel="stylesheet" href="../../css/jquery/jquery.alerts.css?v=1.0.1">
    <base href="./">
	<title>标签列表</title>
</head>
<body>
	<form action="../../data/acserialinfo" method="get">
		<table class="searchTable">
			<tbody>
				<tr>
					<td>绑定状态</td>
  					<td style="padding-left:10px">
  						<select name="">
  							<option value=""></option>
  							<option value="未绑定">未绑定</option>
  							<option value="正使用">正使用</option>
  							<option value="已自毁">已自毁</option>
  						</select>
  					</td>
  					<td>标签号</td>
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>
  					<td>产品名称</td>
  					<td style="padding-left:10px;">
  						<input type="text" name="">
  					</td>	
  					<td>时间</td>
  					<td>
  						<input id="startTime" type="text" class="Wdate" style="width: 100px;" onfocus="WdatePicker({lang:'zh-cn',readOnly:true,maxDate:'#F{$dp.$D(\'endTime\')}'})" readonly="">至
  						<input id="endTime" type="text" class="Wdate" style="width: 100px;" onfocus="WdatePicker({lang:'zh-cn',readOnly:true,minDate:'#F{$dp.$D(\'startTime\')}'})">
  					</td>
  				</tr>
  				<tr>
  					<td>订单号</td>	
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>
  					<td>操作人员</td>	
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>	
  					<td>编号</td>	
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>	
  				</tr>
			</tbody>
		</table>
	</form>
	<table class="listTable"></table>

	<script src="../../js/jquery/jquery-1.8.3.min.js?v=1.0.1"></script>
	<script src="../../js/jquery/jquery.flexigrid.js?v=1.0.1"></script>
	<script src="../../plugins/My97DatePicker/WdatePicker.js?v=1.0.1"></script>
	<script src="../../js/jquery/jquery.alerts.js?v=1.0.1"></script>
	<script>
	$(function(){
		$("table.listTable").flexigrid(GRID);	
	});	
	var GRID = {
		form: $("form"),
        //sortname: "",
        //sortorder: "",
        primaryKey: "id",
        showCheckBox: false,
        colModel: [
        	{display: "标签号", name: "serialNo", width: 120, sortable: true},
			{display: "标签类型", name: "labelTypeName", width: 60, sortable: true},
			{display: "单位名称", name: "orgName", width: 170, sortable: true},
			{display: "产品名称", name: "name", width: 100, sortable: true},
			{display: "编号", name: "bindCode", width: 80, sortable: true},
			{display: "操作人员", name: "binderName", width: 60, sortable: true},
			{display: "时间", name: "bindTime", width: 120, sortable: true},
			{display: "操作时间 ", name: "gmtModified", width: 120, sortable: true},
			{display: "绑定状态", name: "status", width: 60, sortable: true,
				dataFormat: function(value, td, row){
					if(value==0){
						return '<span>未绑定</span>';
					}
					else if(value==1){
						return '<span>正使用</span>';;
					}
					else if(value==9){
						return '<span>已自毁</span>';
					}
				}
			},
			{display: "备注", name: "memo", width: 50, sortable: true},
			{display: "操作", name: "id", width:50, sortable: true,
				dataFormat: function(value, td, row){
					var operation;
					if (row.status != 0) {
						if( row.orgCode == 'ISELL' ){
							operation = '<span class="editBtn rowBtn" title="编辑" onclick="rowEdit(this)"></span>';
							operation += '<span class="detailBtn rowBtn" title="详情" onclick="rowDetail(this)"></span>';
						}else{;
							operation = '<span class="editBtn rowBtn" title="编辑" onclick="rowEdit(this)"></span>';
						}
					} else {
						operation = "";
					}
					return operation;
				}
			},
			{display: "", name: "orgCode", width: 50, hide: true}
        ]
	};
	var OPR = {
		edit: {
        	url: "../html/label/acserialinfoEdit.html",
        	primaryKey: "id",
        	name: "标签编辑"
        },
		detail: {
        	url: "../html/label/acserialinfoDetail.html",
        	primaryKey: "id",
        	name: "订单详情"
        }
	};
	function rowEdit(obj){
		edit(OPR.edit, obj, true);
	}

	function rowDetail(obj){
		detail(OPR.detail, obj, true);
	}
	</script>
</body>
</html>

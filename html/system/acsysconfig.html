<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../css/jquery/jquery.flexigrid.css?v=1.0.1">
    <link rel="stylesheet" href="../../css/jquery/jquery.alerts.css?v=1.0.1">
    <base href="./">
    <title>系统配置列表</title>
</head>
<body>
<form action="../../data/acsysconfig" method="get">
    <table class="searchTable">
        <tbody>
        <tr>
            <td>公司</td>
            <td style="padding-left:10px">
                <select name="" id="">
                    <option value=""></option>
                </select>
            </td>
            <td>全局配置</td>
            <td style="padding-left:10px">
                <select name="">
                    <option value="">请选择</option>
                    <option value="私有">私有</option>
                    <option value="全局">全局</option>
                </select>
            </td>
        </tr>
        </tbody>
    </table>
</form>
<table class="listTable"></table>

<script src="../../js/jquery/jquery-1.8.3.min.js?v=1.0.1"></script>
<script src="../../js/jquery/jquery.flexigrid.js?v=1.0.1"></script>
<script src="../../js/jquery/jquery.alerts.js?v=1.0.1"></script>
<script>
    $(function(){
        $("table.listTable").flexigrid(GRID);
    });
    var GRID = {
        form: $("form"),
        //sortname: "",
        //sortorder: "",
        primaryKey: "id",
        colModel: [
            {display: "配置项目", name: "configItem", width: "18%", sortable: true},
            {display: "配置值", name: "configValue", width: "18%", sortable: true},
            {display: "全局配置", name: "globalFlag", width: "18%", sortable: true,
                dataFormat:function(value,td,row){
                    switch (value) {
                        case 0:
                            return "私有";
                        case 1:
                            return "全局";
                        default:
                            return "未知";
                    }
                }
            },
            {display: "备注", name: "memo", width: "18%", sortable: true,},
            {display: "适用公司", name: "orgName", width: "18%", sortable: true},
            {display: "操作", name: "id", width: "10%", sortable: true,
                dataFormat: function(value, td, row){
                    var oper = '';
                    oper += '<span class="editBtn rowBtn" title="编辑" onclick="rowEdit(this)"></span>';
                    oper += '<span class="detailBtn rowBtn" title="详情" onclick="rowDetail(this)"></span>';
                    oper += '<span class="deletesBtn rowBtn" title="删除" onclick="rowDelete(this)"></span>';
                    return oper;
                }
            }
        ],
        add: {
            url: "../html/system/acsysconfigItem.html",
        },
        edit:{
            url:"../html/system/acsysconfigItem.html?type=edit",
            name:"修改",
            primaryKey:"id"
        },
        detail:{
            url:"../html/system/acsysconfigItem.html?type=detail",
            name:"详情",
            primaryKey:"id"
        },
        deletes: {
            url : "",
            primaryKey: "id"
        }
    };

    function rowEdit(obj){
        edit(GRID.edit, obj, true);
    }

    function rowDetail(obj){
        detail(GRID.detail, obj, true);
    }

    function rowDelete(obj){
        deletes(GRID.deletes, obj, true);
    }
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../css/jquery/jquery.flexigrid.css?v=1.0.1">
    <link rel="stylesheet" href="../../css/jquery/jquery.alerts.css?v=1.0.1">
    <base href="./">
	<title>门店列表</title>
</head>
<body>
	<form action="../../data/acpos" method="get">
		<table class="searchTable">
			<tbody>
				<tr>
					<td>所属公司</td>
  					<td style="padding-left:10px">
  						<select name="">
  							<option value=""></option>
  						</select>
  					</td>
  					<td>门店名称</td>
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>
  					<td>负责人姓名</td>
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>
  					<td>联系号码</td>
  					<td style="padding-left:10px">
  						<input type="text" name="">
  					</td>
  				</tr>
  				<tr>
  					<td>省</td>
  					<td style="padding-left:10px">
  						<select id="cmbProvince" sign="省"></select>
  					</td>
  					<td>市</td>
  					<td style="padding-left:10px">
  						<select id="cmbCity" sign="市"></select>
  					</td>
  					<td>县</td>
  					<td style="padding-left:10px">
  						<select id="cmbArea" sign="县"></select>
  					</td>	
  				</tr>
			</tbody>
		</table>
	</form>
	<table class="listTable"></table>

	<script src="../../js/jquery/jquery-1.8.3.min.js?v=1.0.1"></script>
	<script src="../../js/jquery/jquery.flexigrid.js?v=1.0.1"></script>
	<script src="../../js/jquery/jquery.alerts.js?v=1.0.1"></script>
	<script src="../../plugins/select.linkage.js?v=1.0.1"></script>
	<script>
	$(function(){
		Linkage(comList);
		$("table.listTable").flexigrid(GRID);	
	});	
	var comList = [{
    	id:'cmbProvince',
    	default: ''
    },{
    	id:'cmbCity',
    	default: ''
    },{
    	id:'cmbArea',
    	default: ''
    }];
	var GRID = {
		form: $("form"),
        //sortname: "",
        //sortorder: "",
        primaryKey: "id",
        colModel: [
        	{display: "所属公司", name: "orgName", width: 150, sortable: true},
			{display: "门店名称", name: "name", width: 70, sortable: true},
			{display: "编码", name: "code", width: 70, sortable: true},
			{display: "门店地址", name: "fullAddress", width: 120, sortable: true},
			{display: "联系电话", name: "tel", width: 120, sortable: true},
			{display: "负责人姓名", name: "managerName", width: 80, sortable: true},
			{display: "负责人电话", name: "managerMobile", width: 120, sortable: true},
			{display: "创建时间", name: "gmtCreate", width: 120, sortable: true},
			{display: "商品总计", name: "productTotal", width: 100, sortable: true},
			{display: "操作", name: "id", width: 180, sortable: true,
				dataFormat: function(value, td, row){
					var operResult = '';
					operResult += '<span class="statisticsBtn rowBtn" title="统计" onclick="statistics(this)"></span>';
					operResult += '<span class="editBtn rowBtn" title="编辑" onclick="rowEdit(this)"></span>';
					operResult += '<span class="detailBtn rowBtn" title="查看" onclick="rowDetail(this)"></span>';
					operResult += '<span class="deletesBtn rowBtn" title="移除" onclick="rowDelete(this)"></span>';
					operResult += '<span class="bindBtn rowBtn" title="产品绑定" onclick="bind(this)"></span>';
					operResult += '<span class="printBtn rowBtn" title="打印" onclick="print(this)"></span>';
					operResult += '<span class="deliveryPlaceBtn rowBtn" title="商品登记" onclick="deliveryPlace(this)"></span>';
				return operResult;
				}
			}
        ],
        add: {
        	url: "../html/store/acposItem.html",
        },
        deletes: {
        	url : "",
			primaryKey: "id"
        },
        buttons:[{
            name: "上传",
            bclass: "uploadBtn",
            onpress: function(g){
                execute({
                    url: "../html/store/acposUpload.html",
                    primaryKey: "id",
                    name: "上传门店"
                }, true);
            }
        }]
	};

	function rowEdit(obj){
		edit({
			url: "../html/store/acposItem.html?type=edit",
        	primaryKey: "id",
        	name: "修改门店"
		}, obj, true);
	}

	function rowDetail(obj){
		detail({
        	url: "../html/store/acposItem.html?type=detail",
        	primaryKey: "id",
        	name: "门店详情"
        }, obj, true);
	}

	function rowDelete(obj){
		deletes(GRID.deletes, obj, true);
	}

	function statistics(obj){
		executeRow({
			url: "../html/store/acpoStatistics.html",
            primaryKey: "id",
            name: "统计"
		},obj, true);
	}

	function deliveryPlace(obj){
		executeRow({
			url: "../html/sales/saleLogisticsList.html",
            primaryKey: "id",
            name: "商品登记"
		}, obj, true);
	}

	function print(obj){
		alert("已预留功能");
	}

	function bind(obj){
		alert("已预留功能");
	}
	</script>
</body>
</html>
